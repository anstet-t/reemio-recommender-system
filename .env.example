# =============================================================================
# Reemio Recommender System - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=reemio-recommender
APP_ENV=development  # development, staging, production
DEBUG=true
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# API Settings
# -----------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# E-Commerce API Integration
# -----------------------------------------------------------------------------
ECOMMERCE_API_BASE_URL=https://gateway-ecommerce.reemioltd.com
ECOMMERCE_API_KEY=
ECOMMERCE_API_TIMEOUT=30

# -----------------------------------------------------------------------------
# PostgreSQL Database
# -----------------------------------------------------------------------------
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=reemio
POSTGRES_PASSWORD=
POSTGRES_DB=reemio_recommender

# Full connection string (alternative to individual settings)
# DATABASE_URL=postgresql://reemio:password@localhost:5432/reemio_recommender

# -----------------------------------------------------------------------------
# Vector Search (pgvector)
# -----------------------------------------------------------------------------
# Uses the same PostgreSQL database with pgvector extension
# Embedding model for generating vectors (local or API-based)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Full connection string (alternative to individual settings)
# REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Celery
# -----------------------------------------------------------------------------
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Email Service (Mock by default)
# -----------------------------------------------------------------------------
EMAIL_SERVICE=mock  # mock, sendgrid, ses
EMAIL_FROM_ADDRESS=noreply@reemio.com
EMAIL_FROM_NAME=Reemio

# SendGrid (if EMAIL_SERVICE=sendgrid)
SENDGRID_API_KEY=

# AWS SES (if EMAIL_SERVICE=ses)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
SECRET_KEY=your-secret-key-change-in-production
API_KEY_HEADER=X-API-Key

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# -----------------------------------------------------------------------------
# Sync Worker Settings
# -----------------------------------------------------------------------------
SYNC_PRODUCTS_INTERVAL_MINUTES=60
SYNC_ORDERS_INTERVAL_MINUTES=30

# -----------------------------------------------------------------------------
# Recommendation Settings
# -----------------------------------------------------------------------------
DEFAULT_RECOMMENDATION_LIMIT=12
MAX_RECOMMENDATION_LIMIT=50
RERANK_CANDIDATES_MULTIPLIER=2
ATTRIBUTION_WINDOW_DAYS=7

# -----------------------------------------------------------------------------
# Email Campaign Settings
# -----------------------------------------------------------------------------
CART_ABANDONMENT_DELAY_HOURS=2
CART_ABANDONMENT_MAX_REMINDERS=3
WEEKLY_DIGEST_DAY=sunday
WEEKLY_DIGEST_HOUR=10
